---
sidebar_position: 4
---

# Calling the SnapPay API

Once the HMAC is generated, itâ€™s time to send the request to the SnapPay API to get a requestId. The
```snapPayService.getRequestID``` method is invoked with the required parameters: accountId, merchantId,
HMAC, API endpoint, and payload.



import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs
    defaultValue="java"
    values={[
        {label: 'Java', value: 'java'},
        {label: 'C#', value: 'c#'},
    ]}>
<TabItem value="java">

```java showLineNumbers"
SnapPayResponse response = snapPayService.getRequestID(form.getAccountId(),
form.getMerchantId(),
hmac, endpoint, contentToEncode);
```

- **Return Value**: The SnapPayResponse object, which contains a requestId, status, and other
details from the API response.

</TabItem>

<TabItem value="c#">

```csharp showLineNumbers"
string requestID = await snapPayService.GetRequestIDAsync(
  accountId,
  merchantId,
  Hmac,
  "https://snappaydirectapi-cert.fiserv.com",
  contentToEncode
);
```

- **Return Value**: The requestId string.

</TabItem>
</Tabs>



import { ConfidencePlaybook } from '@confidencesystemsinc/sdk';
import BrowserOnly from '@docusaurus/BrowserOnly';
export const Playbook = ({children, color}) => (
  <BrowserOnly>
    {() => <ConfidencePlaybook.AutoInstantiated email='iphatak4s@yahoo.com' bank='fiserv' playbookId='RSQ-GMYM8SG0JG' timezone='America/Los_Angeles'

    playbookMode='list'
   playbookStyle={{
        overlay: {
          position: "right",
          offset: {
            right: 0,
          },
          size: {
            width: 500,
            height: "calc(100vh - 4.75rem)",
          },
        },
      }}
   />}
   </BrowserOnly>
);

<Playbook />